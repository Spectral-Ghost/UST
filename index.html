<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Utin - Portfolio</title>
    <link id="npc-design" rel="stylesheet" href="">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&display=swap');

        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #050505;
            font-family: 'Fira Code', monospace;
            box-sizing: border-box;
            height: 100vh;
            image-rendering: pixelated;
        }

        #game-container {
            position: relative;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        #world {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 100%;
            will-change: transform;
        }

        #background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("/images/background.png");
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            z-index: 0;
        }

        #player {
            position: absolute;
            width: 140px;
            height: 140px;
            background-image: url('/images/player.png');
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            z-index: 20;
            filter: drop-shadow(0 8px 16px rgba(0,0,0,0.6));
            transition: bottom 0.1s linear, left 0.1s linear;
        }

        .npc {
            position: absolute;
            width: 140px;
            height: 140px;
            background-image: url('/images/npc.png');
            background-size: contain;
            background-position: center;
            background-repeat: no-repeat;
            cursor: pointer;
            z-index: 15;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.4));
        }

        .npc:hover {
            transform: translateY(-10px) scale(1.05);
        }

        .npc-name {
            position: absolute;
            color: #fff;
            font-size: 10px;
            font-weight: bold;
            text-align: center;
            z-index: 16;
            background: rgba(0,0,0,0.85);
            padding: 4px 10px;
            border: 1px solid rgba(255,255,255,0.15);
            white-space: nowrap;
            text-transform: uppercase;
            border-radius: 4px;
            letter-spacing: 1px;
            pointer-events: none;
        }

        #top-menu {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 80px;
            background: linear-gradient(to bottom, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.4) 70%, transparent 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 40px;
            z-index: 100;
            color: white;
            backdrop-filter: blur(4px);
        }

        .menu-title {
            color: #fbbf24;
            font-size: 32px;
            font-weight: bold;
            letter-spacing: 8px;
            text-shadow: 0 0 20px rgba(251, 191, 36, 0.6);
            margin: 0;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.85);
            backdrop-filter: blur(12px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 200;
            animation: fadeIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .menu {
            width: 700px;
            max-width: 90vw;
            min-height: 400px;
            padding: 50px;
            background-color: #0a0a0a;
            border: 1px solid rgba(251, 191, 36, 0.3);
            color: white;
            display: flex;
            flex-direction: column;
            box-shadow: 0 0 100px rgba(0, 0, 0, 0.5), 0 0 30px rgba(251, 191, 36, 0.05);
            border-radius: 4px;
            position: relative;
        }

        .menu-close {
            align-self: center;
            color: #fbbf24;
            cursor: pointer;
            text-transform: uppercase;
            font-size: 11px;
            font-weight: bold;
            margin-top: 40px;
            padding: 10px 24px;
            border: 1px solid rgba(251, 191, 36, 0.3);
            letter-spacing: 2px;
            transition: all 0.2s;
        }

        .menu-close:hover {
            background: rgba(251, 191, 36, 0.1);
            border-color: #fbbf24;
            color: #fff;
        }

        #guide {
            position: absolute;
            bottom: 40px;
            right: 40px;
            background: rgba(0,0,0,0.7);
            border: 1px solid rgba(255,255,255,0.1);
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 20px;
            z-index: 100;
            color: rgba(255,255,255,0.8);
            border-radius: 12px;
            backdrop-filter: blur(8px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .wasd-grid {
            display: grid;
            grid-template-areas: ". w ." "a s d";
            gap: 6px;
        }

        .key {
            width: 32px;
            height: 32px;
            border: 1px solid rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            background: rgba(255,255,255,0.08);
            border-radius: 6px;
            transition: all 0.1s;
        }

        .key.active {
            background: #fbbf24;
            color: #000;
            border-color: #fbbf24;
            transform: translateY(2px);
        }

        .guide-text {
            font-size: 12px;
            font-weight: 700;
            letter-spacing: 2px;
            text-transform: uppercase;
            opacity: 0.6;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <nav id="top-menu">
            <h1 class="menu-title">UTS HALL</h1>
        </nav>

        <div id="world">
            <div id="background"></div>
            <div id="player"></div>
        </div>

        <div id="modal-container" class="modal-overlay" onclick="closeMenu()">
            <div class="menu" onclick="event.stopPropagation()">
                <div id="portfolio-target">
                    <h2 style="color: #fbbf24; letter-spacing: 2px; margin-bottom: 20px;">SYSTEM LOG</h2>
                    <p style="color: #888; line-height: 1.6;">Connection established... Loading entity profile...</p>
                </div>
                <div class="menu-close" onclick="closeMenu()">DISMISS</div>
            </div>
        </div>

        <div id="guide">
            <div class="wasd-grid">
                <div id="key-w" class="key">W</div>
                <div id="key-a" class="key">A</div>
                <div id="key-s" class="key">S</div>
                <div id="key-d" class="key">D</div>
            </div>
            <div class="guide-text">NAVIGATE</div>
        </div>
    </div>

    <script>
        const WORLD_WIDTH = 1800;      
        const GROUND_HEIGHT = 400;   
        const PLAYER_SPEED = 6;     

        const npcData = [
            {id: 1, x: 400, name: "Antoine", role: "Frontend Architect", folder:"antoine"},
            {id: 2, x: 650, name: "Daniel", role: "Backend Systems", folder:"daniel"},
            {id: 3, x: 900, name: "Justine", role: "Creative Lead", folder:"justine"},
            {id: 4, x: 1150, name: "Kris Karl", role: "Core Engineer", folder:"kriskarl"},
            {id: 5, x: 1400, name: "Kurt", role: "Security Ops", folder:"kurt"},
            {id: 6, x: 1650, name: "Will", role: "Network Infrastructure", folder:"will"}
        ];

        const worldEl = document.getElementById('world');
        const playerEl = document.getElementById('player');
        const modalContainer = document.getElementById('modal-container');
        const portfolioTarget = document.getElementById('portfolio-target');

        // Add NPCs
        npcData.forEach(npc => {
            const el = document.createElement('div');
            el.className = 'npc';
            el.style.left = npc.x + 'px';
            el.style.bottom = '60px';
            if (npc.id > 1) {
                el.style.filter = `hue-rotate(${npc.id * 50}deg) drop-shadow(0 4px 8px rgba(0,0,0,0.4))`;
            }
            el.onclick = () => openNPC(npc);
            worldEl.appendChild(el);

            const nameEl = document.createElement('div');
            nameEl.className = 'npc-name';
            nameEl.innerText = npc.name;
            nameEl.style.left = (npc.x + 70) + 'px';
            nameEl.style.bottom = '220px';
            nameEl.style.transform = 'translateX(-50%)';
            worldEl.appendChild(nameEl);
        });

        async function openNPC(npc) {
            modalContainer.style.display = 'flex';
            portfolioTarget.innerHTML = `
                <h2 style="color: #fbbf24; letter-spacing: 4px; font-size: 24px; margin-bottom: 5px; text-transform: uppercase;">${npc.name}</h2>
                <p style="color: rgba(255,255,255,0.4); font-size: 10px; margin-bottom: 30px; letter-spacing: 2px;">${npc.role}</p>
                <div style="color: #ccc; line-height: 1.8; border-left: 2px solid #fbbf24; padding-left: 20px;">
                    Loading encrypted data from portfolio/${npc.folder}...
                </div>
            `;
            
            try {
                const response = await fetch(`portfolio/${npc.folder}/content.html`);
                if (response.ok) {
                    const html = await response.text();
                    portfolioTarget.innerHTML += `<div style="margin-top: 20px;">${html}</div>`;
                }
            } catch(e) {}
        }

        function closeMenu() {
            modalContainer.style.display = 'none';
        }

        let playerX = 200;
        let playerY = 60;
        const keys = {};

        window.addEventListener('keydown', e => {
            const key = e.key.toLowerCase();
            keys[key] = true;
            const keyEl = document.getElementById('key-' + key);
            if (keyEl) keyEl.classList.add('active');
        });

        window.addEventListener('keyup', e => {
            const key = e.key.toLowerCase();
            keys[key] = false;
            const keyEl = document.getElementById('key-' + key);
            if (keyEl) keyEl.classList.remove('active');
        });

        function gameLoop() {
            if(keys['a'] || keys['arrowleft']) playerX -= PLAYER_SPEED;
            if(keys['d'] || keys['arrowright']) playerX += PLAYER_SPEED;
            if(keys['w'] || keys['arrowup']) playerY += PLAYER_SPEED;
            if(keys['s'] || keys['arrowdown']) playerY -= PLAYER_SPEED;

            playerX = Math.max(0, Math.min(playerX, WORLD_WIDTH - 140));
            playerY = Math.max(0, Math.min(playerY, GROUND_HEIGHT - 60));

            playerEl.style.left = playerX + 'px';
            playerEl.style.bottom = playerY + 'px';

            const cameraX = Math.max(0, Math.min(playerX + 70 - window.innerWidth/2, WORLD_WIDTH - window.innerWidth));
            worldEl.style.transform = `translateX(-${cameraX}px)`;

            requestAnimationFrame(gameLoop);
        }

        gameLoop();
    </script>
</body>
</html>
